- RBTV 14:
CREATE TRIGGER rb_HopDong ON ChiTiet_HopDong FOR INSERT
AS
 IF (EXIST (SELECT * FROM ChiTiet_HopDong WHERE NgayHetHan IS NOT NULL AND NgayHetHan < getdate() ) )
 BEGIN
   Print 'Khong the them hop dong moi vi hop dong truoc chua het han'
   RollBack Tran
 END

- RBTV 16:
CREATE TRIGGER rb_HopDong_2 On ChiTiet_HopDong FOR INSERT, UPDATE
AS
 IF (EXIST SELECT * FROM (Nha JOIN ChiTiet_HopDong ON Nha.ID = ChiTiet_HopDong.Ma_Nha) WHERE Nha.Ngay_Dang < ChiTiet_HopDong.NgayLap)
 BEGIN
  Print 'Ngay ky hop dong khong the truoc ngay dang bai'
  RollBack Tran
 END

CREATE TRIGGER rb_HopDong_2 On ChiTiet_XemNha FOR INSERT, UPDATE
AS
 IF (EXIST SELECT * FROM (Nha JOIN ChiTiet_HopDong ON Nha.ID = ChiTiet_XemNha.Ma_Nha) WHERE Nha.Ngay_Dang < ChiTiet_XemNha.Ngay)
 BEGIN
  Print 'Ngay xem nha khong the truoc ngay dang bai'
  RollBack Tran
 END